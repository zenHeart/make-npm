# NPM 基础
1. 配置
2. package.json 文件
3. cli 详解


## npm 配置级别
<!--
按照优先级,从高到低
配置格式类似 ini 文件,采用 npm/ini 进行解析
1. 说明配置级别
2. 说明配置优先级
-->
1. 运行时配置 <span class="fade-left fragment" style="color:#cb3837">npm \<command> --key value</span> 
2. 环境变量 <span class="fade-left fragment" style="color:#cb3837">npm_config_key=val</span> 
3. 项目级别配置 <span class="fade-left fragment" style="color:#cb3837">/path/to/my/project/.npmrc</span>     
	<span  class="fade-left fragment" style="color:green">npm i -g 不会读取此配置,配置不区分大小写</span>
4. 用户配置 <span class="fade-left fragment" style="color:#cb3837">$HOME/.npmrc</span>   
	<span class="fade-in fragment"  style="color:green">利用 npm get userconfig 读取此路径</span>
5. 全局配置 <span class="fade-left fragment" style="color:#cb3837">$PREFIX/etc/npmrc</span>   
	<span  class="fade-in fragment"  style="color:green">利用 npm get globalconfig 读取此路径</span>
6. 内建配置 <span class="fade-left fragment" style="color:#cb3837">/path/to/npm/npmrc</span>   
	<span  class="fade-in fragment"  style="color:green">无法修改</span>



## 核心配置项
* `prefix` 设定全局包的安装路径* 
  * windows 默认全局路径 `{prefix}/node_modules`,可执行文件为 `{prefix}`
  * unix* * 默认全局路径 `{prefix}/lib/node_modules`,可执行文件为 `{prefix}/bin`
* `cache` 配置缓存路径
  * unix* `~/.npm`
  * windows `%AppData%/npm-cache`


## package-lock 和 npm-shrinkwrap
* [package-lock.json](https://docs.npmjs.com/files/package-lock.json.html) 用于锁版本,无法发布
* [npm-shrinkwrap.json](https://docs.npmjs.com/cli/shrinkwrap) 功能相同可以发布


## 延伸阅读
* [npm folders](https://docs.npmjs.com/files/folders.html#cache) 理解 npm 安装原理及目录结构